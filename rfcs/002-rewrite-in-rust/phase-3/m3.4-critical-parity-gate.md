# M3.4 Critical Parity Gate

Status: complete

## Scope

- Prove parity for critical read/write/validation/passthrough workflows between `legacy` and `rust_active` rollout modes.
- Keep callback boundary serialization deterministic.
- Cover boundary-value marshalling and deterministic boundary error surfaces.

## Delivered

- `packages/sdk/src/engine/rust-rewrite/parity.test.ts`
- `packages/sdk/src/engine/rust-rewrite/callback-adapter.test.ts`
- `packages/sdk/src/engine/rust-rewrite/host-bridge.test.ts`
- `packages/sdk/src/engine/boot.test.ts`

## Verification

- `pnpm --filter @lix-js/sdk exec vitest run src/engine/rust-rewrite/callback-adapter.test.ts src/engine/rust-rewrite/host-bridge.test.ts src/engine/rust-rewrite/parity.test.ts src/engine/boot.test.ts`

Result: 4 test files, 29 tests passed.
