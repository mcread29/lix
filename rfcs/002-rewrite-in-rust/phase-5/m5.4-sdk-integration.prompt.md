<context>
Phase 5 requires SDK integration so `rust_active` uses Rust engine execution rather than JS execution. Legacy path must remain available for rollback. Rust output must map into existing SDK result shapes.
</context>

<task>
Integrate the Rust engine into the SDK execution path for `rust_active`, keeping `legacy` intact and mapping Rust results into SDK response types.
</task>

<constraints>
- Do not change existing public SDK result shapes.
- Keep `legacy` mode behavior unchanged.
- Maintain deterministic error codes across modes.
- Ensure feature flag selection remains the only switch.
</constraints>

<format>
SDK uses Rust execution end-to-end in `rust_active` with parity tests across legacy and rust modes.
</format>
